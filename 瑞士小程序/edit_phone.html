<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<link rel="stylesheet" type="text/css" href="css/font.css"/>
		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="layer/layer.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.anniu{margin-top: 20%;}
		</style>
	</head>
	<body>
		<h1 class="h1">
			<button class="iconfont icon-xiangzuo1" onclick="javascript:history.back(-1);"></button>
	    	<p>修改手机号码</p>
		</h1>
		<div class="big_box">
			<div class="input_i">
				<label>原手机号</label>
				<input type="number" value="" class="old_mobile" placeholder="请输入原手机号"/>
			</div>
			<div class="backcolor"></div>
			<div class="input_i input_line">
				<label>验证码</label>
				<input type="number" value="" class="old_code" placeholder="请输入验证码" />
				<input type="button" class="getCode1" id="getCode"  value="获取验证码">
			</div>
			<div class="backcolor"></div>
			<div class="input_i">
				<label>原手机号</label>
				<input type="number" value="" class="new_mobile" placeholder="请输入原手机号"/>
			</div>
			<div class="backcolor"></div>
			<div class="input_i input_line">
				<label>验证码</label>
				<input type="number" value="" class="new_code" placeholder="请输入验证码" />
				<input type="button" class="getCode_1" id="getCode_1"  value="获取验证码">
			</div>
			<div class="backcolor"></div>
			<div class="anniu">确认</div>
		</div>
	</body>
	<script src="js/check.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		//获取手机验证码
		$("#getCode").click(function(){
			var that=this;
			getyan(that);
		})
		$("#getCode_1").click(function(){
			var that=this;
			getyan(that);
		})
		
		$(".anniu").click(function(){
			var old_mobile=$(".old_mobile").val();
			var old_code=$(".old_code").val();
			var new_mobile=$(".new_mobile").val();
			var new_code=$(".new_code").val();
			// 是否非空
			if(!isKong(old_mobile,$(".old_mobile").attr("placeholder"))){
				$(".old_mobile").focus();
				return false;
			}
			if(!telCheck(old_mobile)){
				$(".old_mobile").focus();
				return false;
			}
			if(!isKong(old_code,$(".old_code").attr("placeholder"))){
				$(".old_code").focus();
				return false;
			}
			if(!isKong(new_mobile,$(".new_mobile").attr("placeholder"))){
				$(".new_mobile").focus();
				return false;
			}
			if(!telCheck(new_mobile)){
				$(".new_mobile").focus();
				return false;
			}
			if(!isKong(new_code,$(".new_code").attr("placeholder"))){
				$(".new_code").focus();
				return false;
			}
			$.ajax({
	            type: "POST",
	            contentType:"application/json",
		        url:'',
	            async: false,
	            data : {},
	            success: function(data) {
	            	console.log(data)
					if(data.code == 0){
						layer.msg(data.msg,{icon:6,time:1000});
	    			}else{
						layer.msg(data.msg,{icon:2,time:1000});
					}
				},
				error:function(data){
			        console.log(data);
			    }
	        })
		})
	</script>
</html>
